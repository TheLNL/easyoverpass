<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy Overpass (Overpass Query Builder)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles-alone3.css">
    <link rel="stylesheet" href="autocomplete-alone3.css">
</head>
<body>
    <div class="container-fluid">
        <header class="my-4">
            <h1 class="text-center">Easy Overpass (Overpass Query Builder)</h1>
            <p class="text-center text-muted">Build Overpass QL queries easily for OpenStreetMap data</p>
        </header>

        <!-- Tab Navigation -->
        <ul class="nav nav-tabs mb-3" id="queryTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="id-query-tab" data-bs-toggle="tab" data-bs-target="#id-query" type="button" role="tab" aria-controls="id-query" aria-selected="true">
                    <i class="bi bi-hash"></i> OSM ID Query
                </button>
            </li>
        </ul>

        <div class="tab-content" id="queryTabsContent">
            <div class="tab-pane fade show active" id="id-query" role="tabpanel" aria-labelledby="id-query-tab">
                <div class="row">
                    <div class="col-md-6">
                        <div class="card mb-4">
                            <div class="card-header bg-info text-white">
                                <h5 class="mb-0">OSM ID Query</h5>
                            </div>
                    <div class="card-body">
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h6>Query by OSM Element ID</h6>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">Element Type</label>
                                <select class="form-select" id="osmElementType">
                                    <option value="node">Node</option>
                                    <option value="way">Way</option>
                                    <option value="relation">Relation</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">OSM ID</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="bi bi-hash"></i>
                                    </span>
                                    <input type="number" class="form-control" id="osmId" placeholder="Enter OSM ID" min="1">
                                </div>
                                <div class="form-text">Enter the numeric ID of the OSM element</div>
                            </div>
                            
                            <div class="d-flex justify-content-between align-items-center">
                                <button class="btn btn-primary" id="generateOsmIdQuery">
                                    <i class="bi bi-gear"></i> Generate Query
                                </button>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="recurseDown" checked>
                                    <label class="form-check-label" for="recurseDown">Recurse down</label>
                                </div>
                            </div>
                    </div>
                </div>
                    </div>
                </div>
            </div>

            <!-- Query Output Panel -->
            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header bg-secondary text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Generated Query</h5>
                        <div>
                            <button class="btn btn-sm btn-light" id="copyQuery" title="Copy to clipboard">
                                <i class="bi bi-clipboard"></i>
                            </button>
                            <div class="btn-group ms-2">
                                <button type="button" class="btn btn-sm btn-light dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-download"></i> Export
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" id="exportCSV"><i class="bi bi-filetype-csv"></i> CSV</a></li>
                                    <li><a class="dropdown-item" href="#" id="exportJSON"><i class="bi bi-filetype-json"></i> JSON</a></li>
                                    <li><a class="dropdown-item" href="#" id="exportGeoJSON"><i class="bi bi-geo"></i> GeoJSON</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item" href="#" id="openInOverpassTurbo" target="_blank"><i class="bi bi-box-arrow-up-right"></i> Open in Overpass Turbo</a></li>
                                    <li><div class="dropdown-item">
                                        <small class="text-muted">For Overpass Ultra:</small><br>
                                        1. Copy the query above<br>
                                        2. Go to <a href="https://overpass-ultra.us/" target="_blank">overpass-ultra.us</a><br>
                                        3. Paste and run your query
                                    </div></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <pre id="queryOutput" class="m-0 p-3 bg-light" style="min-height: 300px; max-height: 500px; overflow: auto;">
// Your generated Overpass QL query will appear here
                        </pre>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- Close tab-content -->

        <!-- Help Section -->
        <div class="row mt-4">
            <div class="col-12
                <div class="card">
                    <div class="card-header">
                        <h5>Help & Examples</h5>
                    </div>
                    <div class="card-body">
                        <div class="accordion" id="helpAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        How to use this tool
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <ol>
                                            <li>Select the type of OSM element (Node, Way, Relation, or any)</li>
                                            <li>Enter the tag key (e.g., <code>amenity</code>, <code>shop</code>, <code>tourism</code>)</li>
                                            <li>Choose an operator (<code>=</code>, <code>!=</code>, <code>~</code> for regex, etc.)</li>
                                            <li>Enter the tag value (e.g., <code>restaurant</code>, <code>cafe</code>, <code>hotel</code>)</li>
                                            <li>Optionally, set a bounding box to limit your search area</li>
                                            <li>Click "Generate Query" to create your Overpass QL query</li>
                                            <li>Copy the query or open it directly in Overpass Turbo/Ultra</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        Common Examples
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <h6>Find all restaurants in an area:</h6>
                                        <ul>
                                            <li>Element: Node/Way/Relation</li>
                                            <li>Key: <code>amenity</code></li>
                                            <li>Operator: <code>=</code></li>
                                            <li>Value: <code>restaurant</code></li>
                                        </ul>

                                        <h6 class="mt-3">Find all hotels with 4 or more stars:</h6>
                                        <ul>
                                            <li>Element: Node/Way/Relation</li>
                                            <li>Key: <code>tourism</code></li>
                                            <li>Operator: <code>=</code></li>
                                            <li>Value: <code>hotel</code></li>
                                        </ul>
                                        <ul class="mt-2">
                                            <li>Key: <code>stars</code></li>
                                            <li>Operator: <code>>=</code></li>
                                            <li>Value: <code>4</code></li>
                                        </ul>

                                        <h6 class="mt-3">Find all cafes with WiFi (using regex):</h6>
                                        <ul>
                                            <li>Element: Node/Way/Relation</li>
                                            <li>Key: <code>amenity</code></li>
                                            <li>Operator: <code>=</code></li>
                                            <li>Value: <code>cafe</code></li>
                                        </ul>
                                        <ul class="mt-2">
                                            <li>Key: <code>internet_access</code></li>
                                            <li>Operator: <code>~</code></li>
                                            <li>Value: <code>wlan|wifi|yes</code></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        About Overpass QL
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <p>Overpass QL is a query language for OpenStreetMap data. It allows you to extract specific data from OSM based on various criteria.</p>
                                        <p><strong>Key concepts:</strong></p>
                                        <ul>
                                            <li><strong>Elements:</strong> The basic components of OSM data (nodes, ways, relations)</li>
                                            <li><strong>Tags:</strong> Key-value pairs that describe elements (e.g., <code>amenity=restaurant</code>)</li>
                                            <li><strong>Bounding Box:</strong> A rectangular area defined by latitude/longitude coordinates</li>
                                            <li><strong>Operators:</strong> <code>=</code> (equals), <code>!=</code> (not equals), <code>~</code> (matches regex), etc.</li>
                                        </ul>
                                        <p>For more information, see the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL" target="_blank">Overpass QL documentation</a>.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFour">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                        OpenStreetMap Tools & Services
                                    </button>
                                </h2>
                                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <h5>Nominatim</h5>
                                        <p><a href="https://nominatim.openstreetmap.org/" target="_blank">Nominatim</a> is a search engine for OpenStreetMap data. It allows you to look up a location by name or address (geocoding) and generate addresses for OSM points (reverse geocoding). It's used in this tool for searching locations to set your bounding box.</p>
                                        
                                        <h5>Overpass API</h5>
                                        <p><a href="https://wiki.openstreetmap.org/wiki/Overpass_API" target="_blank">Overpass API</a> is a read-only API that serves up custom selected parts of the OSM map data. It's optimized for data consumers that need a few elements within a small area or up to roughly 10 million elements in some larger area. This tool generates queries that are executed against the Overpass API.</p>
                                        
                                        <h5>Overpass Turbo</h5>
                                        <p><a href="https://overpass-turbo.eu/" target="_blank">Overpass Turbo</a> is a web-based data mining tool for OpenStreetMap. It provides a user-friendly interface to run Overpass QL queries and visualize the results on an interactive map. You can export your queries from this tool to Overpass Turbo for visualization.</p>
                                        
                                        <h5>Overpass Ultra</h5>
                                        <p><a href="https://overpass-ultra.us/" target="_blank">Overpass Ultra</a> is a modern, user-friendly interface for the Overpass API. It offers features like syntax highlighting, query validation, and map visualization. It's an alternative to Overpass Turbo with a more modern interface and additional features.</p>
                                        
                                        <h5>Taginfo</h5>
                                        <p><a href="https://taginfo.openstreetmap.org/" target="_blank">Taginfo</a> helps you find the most popular OpenStreetMap tags and how they're used. It shows statistics about which tags are used together, which values are most common, and where in the world they're used. This tool uses Taginfo to provide autocomplete suggestions for tag keys and values.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="my-4 text-center text-muted">
            <p>Overpass Query Builder - 2025 | 
                <a href="https://github.com/yourusername/overpass-query-builder" target="_blank">GitHub</a> | 
                <a href="https://www.openstreetmap.org/copyright" target="_blank"> OpenStreetMap contributors</a>
            </p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app-alone3-clean.js" defer></script>
</body>
</html>
